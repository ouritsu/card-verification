{"version":3,"sources":["cardsData.js","checkCardNumber.js","app.js"],"names":["cardsData","name","lengths","beginings","checkCardNumber","inputUserNumber","length","parseInt","Error","inputValueToCalculation","prepareInputValueToCalculation","isValidLuhnAlgorithm","checkLuhnAlgorithm","cardCompany","checkCardCompany","invalidInputValue","userNumberArrayDigitals","match","reverse","sum","forEach","number","index","digit","calculateValue","calculateValueGreaterThan10","value","separateDigits","String","split","reduce","nextDigit","cardNumber","finalResult","Object","keys","company","lengthCondition","checkLength","beginingCondition","checkBegining","result","firstNumbers","startsWith","input","document","querySelector","logo","checkButton","manualWindow","finalResultWindow","renderResult","innerText","console","log","error","message","appVisualEffects","classList","add","manualVisualEffects","remove","addEventListener"],"mappings":";;AEAA;;AAIA,IAAM4C,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAd;AACA,IAAMC,IAAI,GAAGF,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAb;AACA,AFNA,IEMME,AFNAhD,SAAS,EEME,CFNC,EEME6C,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAApB;AACA,AFNE,ACDF,ICOMG,MFNI,MEMQ,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAArB;AACA,AFNI7C,IEMEiD,AFNFjD,IAAI,EAAE,MADA,KEOa,GAAG4C,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAA1B;AFLI5C,IAAAA,OAAO,EAAE,CAAC,EAAD,EAAK,EAAL,CAFH;AESV,AFNIC,IEMEgD,AFNFhD,SAAS,EAAE,CEMG,AFNF,CAAD,EEMM,SAAfgD,YAAe,GAAM;AACzB,AFVQ,GADQ,GEWZ;AACF,AFNF,QEMQtC,QFNM,GEMK,GAAG,sCAAgB+B,KAAK,CAAClB,KAAtB,CAApB;AACAwB,AFNAjD,IEMAiD,AFNAjD,IAAI,EAAE,WEMW,CAACmD,CFPN,QEOZ,GAA8BvC,WAA9B;AACAwC,AFNAnD,IEMAmD,AFNAnD,OEMO,AFNA,CEMCoD,CFNC,CAAC,CEMV,CAAYzC,AFNH,CAFG,UEQZ;AACD,AFNCV,ACLJ,GCOE,CAIE,AFNAA,ACLEC,OCWKmD,EFNE,EAAE,CEMX,AFNY,EEME,AFNH,CCLM,CDKD,EAAL,ACLS,EDKA,EAAT,EAAa,EAAb,CCLTnD,CDK0B,EAAjB,EAAqB,EAArB,QCLS,CAACC,eAAD,EAAqB;ACYzC6C,AFVY,ACDd,GDLgB,CEgBdA,EDXE7C,eCWe,ADXA,CCWC+C,ADXA9C,MAAhB,GCWF,EDX6B,CCWCiD,ADX5B,IAAgC,CCWC,ADXAhD,CCWCiD,OAApC,ADX2C,CAACnD,eAAD,CAA7C,EAAgE,MAAM,IAAIG,KAAJ,CAAU,oBAAV,CAAN;ACY/D,AFND,ACLA,MAAIH,eDKe,ACLA,KAAK,EAAxB,EAA4B,MAAM,IAAIG,KAAJ,CAAU,aAAV,CAAN,CAFe,CAG3C;ACWD,AFNGP,CEFJ,GFEIA,IAAI,EAAE,kBADW;AAEjBC,ACLF,IDKEA,ECLIO,KDKG,EAAE,CAAC,EAAD,CAFQ,YCHU,GAAGC,8BAA8B,CAACL,eAAD,CAA9D;ACWF,AFLIF,ACLF,ICUIsD,AFLFtD,ECLIQ,ODKK,EAAE,CAAC,EAAD,EEKO,AFLF,EAAL,CEKU,GDVG,GAAGC,GCUzB6C,eDV2C,CCUxB,ADVyBhD,GCUnB,oBDVkB,CAA/C;ACWAwC,AFTmB,ACDnB,ECUAA,CFpBgB,GCUVpC,QCUM,CAAC6C,EDVI,GAAG5C,ICUpB,CAAuB6C,GAAvB,CAA2B,ODVS,CAACtD,UCUrC,KDVoC,CAApC;ACWA4C,AFLA,EEKAA,YAAY,AFLA,CEKCS,SAAb,CAAuBC,GAAvB,CAA2B,mBAA3B;AACAT,AFLEjD,ACNF,ECWAiD,EFLEjD,ECNEU,EDME,EAAE,SEKS,CAAC+C,AFNN,MCLY,GCWxB,CAA4BC,ADXA9C,GCW5B,CAAgC,ODXhC,EAAyC,OCWzC;AACAmC,AFLE9C,ACNA,ECWF8C,EFLE9C,OAAO,ACNAF,ECWE,AFLA,CEKC0D,AFLA,EAAD,CAFC,MEOZ,CAAsBC,GAAtB,CAA0B,IDXP9C,WAAV,CCWT,CDXgCZ,IAA9B;ACYF8C,AFLE5C,ACND,ECWD4C,CDbA,CDQE5C,EEKE,CAACuD,EDXE,IDMI,EAAE,CEKb,AFLc,CEKCC,CFLF,EEKb,CAAmB,aAAnB;AACAf,AFTY,ACFV7B,ECWF6B,CFzBgB,CCcd7B,GCWG,CAAC2C,SAAN,CAAgBC,GAAhB,ADXmB,CCWC,gBAApB;AACD,AFLC,ACNC,CCIH,eFEgB;AACZ1D,ACNH,CAZD,GDkBIA,IAAI,EAAE,aADM;AEMhB,AFJIC,IEIE0D,AFJF1D,OAAO,EAAE,CAAC,EAAD,CAFG,MEMS,GAAG,SAAtB0D,mBAAsB,GAAM;AAChCX,AFJE9C,EEIF8C,EFJE9C,SAAS,CEIC,CAACuD,AFJA,CAAC,CAAD,OEIb,CAAuBG,MAAvB,CAA8B,kBAA9B;AACAZ,AFRc,EEQdA,CF7BgB,WE6BJ,CAACS,SAAb,CAAuBG,MAAvB,CAA8B,mBAA9B;AACAX,AFJA,ACRF,ECYEA,OFJO,ACRAxC,UCYU,CAACgD,SAAlB,C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","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const cardsData = {\r\n  'visa': {\r\n    name: 'Visa',\r\n    lengths: [13, 16],\r\n    beginings: [4],\r\n  },\r\n  'masterCard': {\r\n    name: 'Master Card',\r\n    lengths: [16],\r\n    beginings: [22, 51, 52, 53, 54, 55]\r\n  },\r\n  'americanExpress': {\r\n    name: 'American Express',\r\n    lengths: [15],\r\n    beginings: [34, 37]\r\n  },\r\n  'discover': {\r\n    name: 'Discover',\r\n    lengths: [16],\r\n    beginings: [60]\r\n  },\r\n  'dinersClub': {\r\n    name: 'Diners Club',\r\n    lengths: [14],\r\n    beginings: [3]\r\n  },\r\n  'jcb': {\r\n    name: 'JCB',\r\n    lengths: [16],\r\n    beginings: [35]\r\n  },\r\n}\r\n\r\nexport {\r\n  cardsData\r\n};","import {\r\n  cardsData\r\n} from \"./cardsData\"\r\n\r\nconst checkCardNumber = (inputUserNumber) => {\r\n  if (inputUserNumber.length !== 0 && !parseInt(inputUserNumber)) throw new Error('use only digitals!');\r\n  if (inputUserNumber === '') throw new Error('empty input');\r\n  // if (!new RegExp(/^[a-zA-Z0-9/?]*$/g).test(inputStartWord)) throw new Error('invalid chars');\r\n  const inputValueToCalculation = prepareInputValueToCalculation(inputUserNumber);\r\n  const isValidLuhnAlgorithm = checkLuhnAlgorithm(inputValueToCalculation);\r\n  const cardCompany = checkCardCompany(inputUserNumber);\r\n  if (isValidLuhnAlgorithm && cardCompany) {\r\n    return cardsData[cardCompany].name;\r\n  } else {\r\n    invalidInputValue();\r\n  }\r\n}\r\n\r\nfunction prepareInputValueToCalculation(inputUserNumber) {\r\n  const userNumberArrayDigitals = inputUserNumber.match(/[0-9]/g);\r\n  return userNumberArrayDigitals.reverse();\r\n}\r\n\r\nfunction checkLuhnAlgorithm(inputValueToCalculation) {\r\n  let sum = 0;\r\n\r\n  inputValueToCalculation.forEach((number, index) => {\r\n    const digit = parseInt(number);\r\n    if (index % 2) {\r\n      let calculateValue = digit * 2\r\n      sum += calculateValue < 10 ? calculateValue : calculateValueGreaterThan10(calculateValue)\r\n    } else {\r\n      sum += digit;\r\n    }\r\n  })\r\n  return sum % 10 === 0 ? true : false;\r\n}\r\n\r\nfunction calculateValueGreaterThan10(value) {\r\n  const separateDigits = String(value).split('');\r\n  return separateDigits.reduce((sum, nextDigit) => sum + parseInt(nextDigit), 0);\r\n}\r\n\r\nfunction invalidInputValue() {\r\n  throw new Error('invalid card number!');\r\n}\r\n\r\nfunction checkCardCompany(cardNumber) {\r\n  let finalResult = \"\";\r\n  for (const company of Object.keys(cardsData)) {\r\n    const lengthCondition = checkLength(cardNumber, company);\r\n    const beginingCondition = checkBegining(cardNumber, company);\r\n    if (lengthCondition && beginingCondition) {\r\n      finalResult = company;\r\n    }\r\n  }\r\n  return finalResult;\r\n}\r\n\r\nfunction checkLength(cardNumber, company) {\r\n  let result = false;\r\n\r\n  for (const length of cardsData[company].lengths) {\r\n    if (cardNumber.length === length) {\r\n      result = true;\r\n      break;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction checkBegining(cardNumber, company) {\r\n  let result = false;\r\n\r\n  for (const firstNumbers of cardsData[company].beginings) {\r\n    if (cardNumber.startsWith(firstNumbers)) {\r\n      result = true;\r\n      break;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nexport {\r\n  checkCardNumber\r\n};","import {\r\n  checkCardNumber\r\n} from \"./checkCardNumber\";\r\n\r\nconst input = document.querySelector('input');\r\nconst logo = document.querySelector('.logo');\r\nconst checkButton = document.querySelector('button');\r\nconst manualWindow = document.querySelector('.app-manual');\r\nconst finalResultWindow = document.querySelector('.result-window');\r\n\r\nconst renderResult = () => {\r\n  try {\r\n    const cardCompany = checkCardNumber(input.value);\r\n    finalResultWindow.innerText = cardCompany;\r\n    console.log(cardCompany);\r\n  } catch (error) {\r\n    finalResultWindow.innerText = error.message;\r\n  }\r\n}\r\nconst appVisualEffects = () => {\r\n  manualWindow.classList.add('makeResultWindow');\r\n  manualWindow.classList.add('monochrome-manual');\r\n  finalResultWindow.classList.add('colorizeFrames');\r\n  checkButton.classList.add('colorizeFrames');\r\n  logo.classList.add('logo-active');\r\n  input.classList.add('colorizeFrames')\r\n}\r\nconst manualVisualEffects = () => {\r\n  manualWindow.classList.remove('makeResultWindow');\r\n  manualWindow.classList.remove('monochrome-manual');\r\n  finalResultWindow.classList.remove('colorizeFrames');\r\n  checkButton.classList.remove('colorizeFrames');\r\n  logo.classList.remove('logo-active');\r\n  input.classList.remove('colorizeFrames')\r\n}\r\n\r\ncheckButton.addEventListener('click', renderResult);\r\ncheckButton.addEventListener('click', appVisualEffects);\r\nmanualWindow.addEventListener('click', manualVisualEffects);"]}