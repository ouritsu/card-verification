{"version":3,"sources":["cardsData.js","checkCardNumber.js","app.js"],"names":["cardsData","visa","name","lengths","beginings","masterCard","americanExpress","checkCardNumber","inputUserNumber","inputValueToCalculation","prepareInputValueToCalculation","isValidLuhnAlgorithm","checkLuhnAlgorithm","cardCompany","checkCardCompany","invalidInputValue","userNumberArrayDigitals","match","reverse","sum","forEach","number","index","digit","parseInt","calculateValue","calculateValueGreaterThan10","value","separateDigits","String","split","reduce","nextDigit","console","log","cardNumber","finalResult","Object","keys","company","lengthCondition","checkLength","beginingCondition","checkBegining","result","length","firstNumbers","startsWith","input","document","querySelector","checkButton","manualWindow","renderResult","fadeOutManual","classList","add","addEventListener"],"mappings":"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","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const cardsData = {\r\n  visa: {\r\n    name: 'Visa',\r\n    lengths: [13, 16],\r\n    beginings: [4],\r\n  },\r\n  masterCard: {\r\n    name: 'Master Card',\r\n    lengths: [16],\r\n    beginings: [51, 52, 53, 54, 55]\r\n  },\r\n  americanExpress: {\r\n    name: 'American Express',\r\n    lengths: [15],\r\n    beginings: [34, 37]\r\n  }\r\n}\r\n\r\nexport {\r\n  cardsData\r\n};","import {\r\n  cardsData\r\n} from \"./cardsData\"\r\n\r\nconst checkCardNumber = (inputUserNumber) => {\r\n  const inputValueToCalculation = prepareInputValueToCalculation(inputUserNumber);\r\n  const isValidLuhnAlgorithm = checkLuhnAlgorithm(inputValueToCalculation);\r\n  const cardCompany = checkCardCompany(inputUserNumber);\r\n  if (isValidLuhnAlgorithm && cardCompany) {\r\n    return cardCompany;\r\n  } else {\r\n    invalidInputValue();\r\n  }\r\n}\r\n\r\nfunction prepareInputValueToCalculation(inputUserNumber) {\r\n  const userNumberArrayDigitals = inputUserNumber.match(/[0-9]/g);\r\n  return userNumberArrayDigitals.reverse();\r\n}\r\n\r\nfunction checkLuhnAlgorithm(inputValueToCalculation) {\r\n  let sum = 0;\r\n\r\n  inputValueToCalculation.forEach((number, index) => { //Luhn's algorithm - refactoring reduce ?\r\n    const digit = parseInt(number);\r\n    if (index % 2) {\r\n      let calculateValue = digit * 2\r\n      sum += calculateValue < 10 ? calculateValue : calculateValueGreaterThan10(calculateValue)\r\n    } else {\r\n      sum += digit;\r\n    }\r\n  })\r\n  return sum % 10 === 0 ? true : false;\r\n}\r\n\r\nfunction calculateValueGreaterThan10(value) {\r\n  const separateDigits = String(value).split('');\r\n  return separateDigits.reduce((sum, nextDigit) => sum + parseInt(nextDigit), 0);\r\n}\r\n\r\nfunction invalidInputValue() {\r\n  //Error - create new Error\r\n  console.log('Invalid number, try again!')\r\n}\r\n\r\nfunction checkCardCompany(cardNumber) {\r\n  let finalResult = \"\";\r\n  for (const company of Object.keys(cardsData)) {\r\n    const lengthCondition = checkLength(cardNumber, company);\r\n    const beginingCondition = checkBegining(cardNumber, company);\r\n    if (lengthCondition && beginingCondition) {\r\n      finalResult = company;\r\n    }\r\n  }\r\n  return finalResult;\r\n}\r\n\r\nfunction checkLength(cardNumber, company) { //czy da się krócej? - może predykaty\r\n  let result = false;\r\n\r\n  for (const length of cardsData[company].lengths) {\r\n    if (cardNumber.length === length) {\r\n      result = true;\r\n      break;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction checkBegining(cardNumber, company) { //czy da się krócej?\r\n  let result = false;\r\n\r\n  for (const firstNumbers of cardsData[company].beginings) {\r\n    if (cardNumber.startsWith(firstNumbers)) {\r\n      result = true;\r\n      break;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nexport {\r\n  checkCardNumber\r\n};","import {\r\n  checkCardNumber\r\n} from \"./checkCardNumber\";\r\n\r\nconst input = document.querySelector('input');\r\nconst checkButton = document.querySelector('button');\r\nconst manualWindow = document.querySelector('');\r\n\r\nconst renderResult = () => {\r\n  const cardCompany = checkCardNumber(input.value);\r\n  console.log(cardCompany);\r\n}\r\n\r\nconst fadeOutManual = () => {\r\n  manualWindow.classList.add('invisible')\r\n}\r\n\r\ncheckButton.addEventListener('click', renderResult);\r\ncheckButton.addEventListener('click', fadeOutManual);"]}